syntax = "proto3";
package tron_messages;

// Tx message
message Receipt {
  string result = 1;
  int64 energy_penalty_total = 2;
  int64 energy_fee = 3;
  int64 energy_usage_total = 4;
  int64 origin_energy_usage = 5;
  int64 net_usage = 6;
  int64 net_fee = 7;
}

message Log {
  string address = 1;
  string data = 2;
  repeated string topics = 3;
}

message CallValueInfo {
  uint64 callValue = 1;
  uint64 tokenId = 2;
}

message InternalTransaction {
  string callerAddress = 1;
  string note = 2;
  string transferToAddress = 3;
  repeated CallValueInfo callValueInfo = 4;
  string hash = 5;
}

message Transaction {
  string id = 1;
  int64 fee = 2;
  int64 blockTimeStamp = 3;
  int64 blockNumber = 4;
  string contract_address = 5;
  repeated string contractResult = 6;
  Receipt receipt = 7;
  repeated Log log = 8;
  int64 result = 9;
  string resMessage = 10;
  int64 withdraw_amount = 11;
  int64 unfreeze_amount = 12;
  repeated InternalTransaction internal_transactions = 13;
  int64 withdraw_expire_amount = 14;
  map<string, int64> cancel_unfreezeV2_amount = 15;
}

// Block message
message BlockHeader {
  RawData rawData = 1;
  string witness_signature = 2;
}

message RawData {
  int64 number = 1;
  string txTrieRoot = 2;
  string witness_address = 3;
  int64 witness_id = 4;
  string parentHash = 5;
  int32 version = 6;
  int64 timestamp = 7;
  string accountStateRoot = 8;
}

message Ret {
  string contractRet = 1;
}

message Value {
  int32 amount = 1;
  string owner_address = 2;
  string to_address = 3;
}

message Parameter {
  Value value = 1;
  string type_url = 2;
}

message Contract {
  Parameter parameter = 1;
  string type = 2;
}

message RawDataTransaction {
  repeated Contract contract = 1;
  string ref_block_bytes = 2;
  string ref_block_hash = 3;
  int64 expiration = 4;
  string data = 5;
  int64 fee_limit = 6;
  int64 timestamp = 7;
}

message Transaction {
  repeated Ret ret = 1;
  repeated string signature = 2;
  string txID = 3;
  RawDataTransaction raw_data = 4;
  string raw_data_hex = 5;
}

message Block {
  string blockID = 1;
  BlockHeader block_header = 2;
  repeated Transaction transactions = 3;
}
