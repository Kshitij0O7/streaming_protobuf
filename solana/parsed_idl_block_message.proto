syntax = "proto3";
package solana_messages;
 
import "solana/block_message.proto";

message ParsedIdl {
  bytes  Address = 1;
  bool Parsed = 2;
  string Json = 3;
  bytes  Signature = 4;
  string Name = 5;
  string Method = 6;
  string Arguments = 7;
  repeated string AccountNames = 8;
}

message ParsedIdlInstruction {
  uint32 TransactionIndex = 1;
  uint32 Index = 2;

  uint32 Depth = 3;

  repeated uint32 CallPath = 4;
  int32 CallerIndex = 5;
  repeated uint32 AncestorIndexes = 6;

  uint32 ExternalSeqNumber = 7;
  uint32 InternalSeqNumber = 8;

  optional ParsedIdl        ParsedIdl = 9;

  repeated Account Accounts = 10;
  repeated string Logs = 11;
}

message ParsedIdlBlockMessage {
  BlockHeader Header = 1;
  repeated ParsedIdlInstruction ParsedIdlInstructions = 2;
}
